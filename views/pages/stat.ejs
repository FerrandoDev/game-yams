
<section class="stat" >
    <header>
        <h2>Les gagnants</h2>
    </header>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
            <tr>
                <th scope="col">Username</th>
                <th scope="col">Gain</th>
                <th scope="col">Date</th>
            </tr>
            </thead>
            <tbody>
            <% winners.forEach(winner => { %>
                <tr>
                    <td><%= winner.username %></td>
                    <td><%= winner.pastries %></td>


                    <td><%= formatDate(winner.winAT) %></td>
                </tr>
            <% }) %>
            </tbody>
        </table>
    </div>

</section>

<% function formatDate(date) { %>
    <%
        const options = {
            year: 'numeric',
            month: '2-digit',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: false
        };
        return new Date(date).toLocaleString('fr-FR', options).replace(',', '');
    %>
<% } %>
